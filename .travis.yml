sudo: false
language: ruby
cache: bundler
rvm: 2.3.4
script:
  - 'bundle exec rake $CHECK'
matrix:
  fast_finish: true
  allow_failures:
    - env: STRICT_VARIABLES="yes" CHECK="rubocop"
      bundler_args: --without testing acceptance
    - env: STRICT_VARIABLES="yes" CHECK="beaker" BEAKER_set="debian9"
      bundler_args: --without rubocop
      services: docker
      sudo: required
  include:
    - env: STRICT_VARIABLES="yes" CHECK="beaker" BEAKER_set="debian9"
      bundler_args: --without rubocop
      services: docker
      sudo: required
    - env: STRICT_VARIABLES="yes" CHECK="rubocop"
      bundler_args: --without testing acceptance
    - env: STRICT_VARIABLES="yes" CHECK="lint"
      bundler_args: --without rubocop acceptance
    - env: STRICT_VARIABLES="yes" CHECK="validate"
      bundler_args: --without rubocop acceptance
    - env: STRICT_VARIABLES="yes" CHECK="spec"
      bundler_args: --without rubocop acceptance
    - env: STRICT_VARIABLES="yes" CHECK="beaker"
      bundler_args: --without rubocop
      services: docker
      sudo: required
notifications:
  email: false
  slack:
    secure: tr0N3/0cT8We44R1MvOzs+CC/heCSV8J5fOK4wFCU9eCC3ky/gzqv87sKKt/n9NUJf9NvdnQaPAG8oXiapFu16xiMmubcDAzJFIuNROEb34jvYKVk4kF/0HHGJIzWfR8mGqGXkoga0tLss83ZN3Fe+UKiZSMgO+8Y949cAfsP7fCA0MyNJkZ5NvQbcdOVXyyuYRIcjtqOJuf/dS/8CkutW8rh2l4ICT//iXmQOURv2I/tKL2vD7LuYaB4X11Ai9VCJuzrLCnclxz+S9mIC5b9nNjTmEiZHO7yAVJnKlkOf1hrvrSssEQyhGVfdQK2CUHU4KorSqrYXUeUjcobZw1unOSI12rTasNc71e2tjP8VYwP62/6xmK87mSc/4ZlE3faavN1XFQ0xmIagQfPdTMi8itKXJsY9tVjDoxu2uLpOCgJHnNnQW/t1g/hADRcnaVCPJqtDYAVNuCPuZV+0PX9YnJe6O1XzlhcCf/roC7g53TcB0HfztngGo4zmhfOweW+ep/Ljjjo1kr7/OizuMByy1rxf82o58I2dZfKx6ILhQ37saAN/cyW3jOEL4+2pPgiOHurfBTpEAzslsWalNdYv+v068vGq7+tcQM4wPk34h4BWWfowFai8VECbqI96ZFaVkpSPqfCnoHkeASHR38b0N/RpAcxeYvZXreFn8TllY=
